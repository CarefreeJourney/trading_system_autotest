{"name": "test_login", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.ElementNotVisibleException: Message: 元素没有出现，定位方式xpath定位表达式//p[text()='登录成功']", "trace": "self = <testcases.test_login.TestLogin object at 0x000001DF0453EF10>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"15689ef26f4adc3214d372da08282469\")>\n\n    @pytest.mark.login\n    @allure.feature(\"登录\")\n    @allure.description(\"登录\")\n    def test_login(self,driver):\n        \"\"\"使用错误的账号登录\"\"\"\n        # driver = DriverConfig().driver_config()\n        with allure.step(\"登录\"):\n>           LoginPage().login(driver, \"failure\")\n\ntestcases\\test_login.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage\\LoginPage.py:40: in login\n    self.assert_login_success(driver)\npage\\LoginPage.py:58: in assert_login_success\n    self.element_appear(driver,By.XPATH,success_xpath,timeout=2)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <page.LoginPage.LoginPage object at 0x000001DF045BA670>\ndriver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"15689ef26f4adc3214d372da08282469\")>\nlocate_type = 'xpath', locator_expression = \"//p[text()='登录成功']\", timeout = 2\n\n    def element_appear(self, driver, locate_type, locator_expression, timeout=30):\n        \"\"\"\n        等待页面元素出现，不仅要在 DOM 中出现，还得显示出来\n        :param driver:\n        :param locate_type:\n        :param locator_expression:\n        :param timeout:\n        :return: 元素或者抛异常\n        \"\"\"\n        if locate_type:\n            start_ms = time.time() * 1000\n            stop_ms = start_ms + (timeout * 1000)\n            for x in range(int(timeout * 10)):\n                try:\n                    element = driver.find_element(by=locate_type, value=locator_expression)\n                    if element.is_displayed():\n                        return element\n                    else:\n                        raise Exception()\n                except Exception:\n                    now_ms = time.time() * 1000\n                    if now_ms >= stop_ms:\n                        break\n                    # 没有找到\n                    time.sleep(0.1)\n                    pass\n>           raise ElementNotVisibleException(\"元素没有出现，定位方式\" + locate_type + \"定位表达式\" + locator_expression)\nE           selenium.common.exceptions.ElementNotVisibleException: Message: 元素没有出现，定位方式xpath定位表达式//p[text()='登录成功']\n\nbase\\ObjectMap.py:181: ElementNotVisibleException"}, "description": "登录", "steps": [{"name": "登录", "status": "broken", "statusDetails": {"message": "selenium.common.exceptions.ElementNotVisibleException: Message: 元素没有出现，定位方式xpath定位表达式//p[text()='登录成功']\n\n", "trace": "  File \"D:\\dasi\\test\\trading_system_autotest\\testcases\\test_login.py\", line 21, in test_login\n    LoginPage().login(driver, \"failure\")\n  File \"D:\\dasi\\test\\trading_system_autotest\\page\\LoginPage.py\", line 40, in login\n    self.assert_login_success(driver)\n  File \"D:\\dasi\\test\\trading_system_autotest\\page\\LoginPage.py\", line 58, in assert_login_success\n    self.element_appear(driver,By.XPATH,success_xpath,timeout=2)\n  File \"D:\\dasi\\test\\trading_system_autotest\\base\\ObjectMap.py\", line 181, in element_appear\n    raise ElementNotVisibleException(\"元素没有出现，定位方式\" + locate_type + \"定位表达式\" + locator_expression)\n"}, "start": 1735182746215, "stop": 1735182756689}], "attachments": [{"name": "失败截图.png", "source": "a16d8f60-0902-458f-a184-fe10102df2ea-attachment.png", "type": "image/png"}, {"name": "log", "source": "4d6aa891-682e-461d-9861-5efa5215b37f-attachment.txt", "type": "text/plain"}], "start": 1735182746214, "stop": 1735182756693, "uuid": "fe14e23f-855b-42a1-bfcf-b8df1df1eed3", "historyId": "93a39feb8eb701231e6c069b76eeac98", "testCaseId": "93a39feb8eb701231e6c069b76eeac98", "fullName": "testcases.test_login.TestLogin#test_login", "labels": [{"name": "feature", "value": "登录"}, {"name": "tag", "value": "login"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "lcl"}, {"name": "thread", "value": "52276-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_login"}]}